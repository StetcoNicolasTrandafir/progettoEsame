<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="dark" (click)="dismiss()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-avatar slot="start">
      <ion-img [hidden]="!mostraAvatar"
        src="https://library.kissclipart.com/20180922/eve/kissclipart-icon-full-name-clipart-computer-icons-avatar-icon-f6cf26ff2213f36e.jpg">
      </ion-img>
      <ion-img [hidden]="mostraAvatar" (ionError)="mostraAvatar=true"
        src="http://localhost:1337/img/{{datoChat.idUtente}}.{{datoChat.foto}}"></ion-img>
    </ion-avatar>
    <ion-title>{{datoChat.username}}</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content style="position: relative; ">
  <div style="height: 100% ; ">
    <div style="height: 84%; display: block; overflow-y: scroll;">
      <app-message *ngFor="let item of messages" [messaggio]="item" [idChat]="this.datoChat.idUtente"></app-message>

    </div>

    <!-- <div style="position: fixed; bottom:1px; width: 100%; height: 8%;">
      <div style="width: 80%; height: 100%; padding: 1%;">
          <ion-textarea style="border-radius: 10px; border: solid 1px black;" placeholder="Enter more information here..."></ion-textarea>
      </div>
    </div> -->

    <div style="position: fixed;background-color: transparent; width: 100%;padding: 3px;  ">
      <!-- <div style=" border: solid 1 px black; border-radius:20px ; height: 95%; margin-bottom: 2px; width: 100%; background-color: red;">
          <div style="float: right; border: solid 1 px black; border-radius:100% ; height: 80%; width: 20%;">
            <ion-textarea placeholder="Scrivi un messaggio..." color="light" style="width: 80%" [(ngModel)]="testoMessaggio" >
            </ion-textarea>
            <ion-icon name="send"  style="width: 60%; height: 60%; margin:auto; margin-top: 5 px;" color="dark"></ion-icon>
          </div>
        </div> -->

      <ion-item style="--border-radius:15px; padding-bottom: 5px;  --border-width:1px;--border-color:black;"
        border-width="1px black">
        <ion-textarea placeholder="Scrivi un messaggio..." style="width: 80%; height: 80%;"
          [(ngModel)]="testoMessaggio">
        </ion-textarea>
        <!-- <ion-button style="margin: auto" color="light" slot="end" size="small" > -->
        <ion-icon (click)="invia()" style="margin-top: 20px;" name="send"></ion-icon>
        <!-- </ion-button> -->
      </ion-item>
    </div>
  </div>
</ion-content>