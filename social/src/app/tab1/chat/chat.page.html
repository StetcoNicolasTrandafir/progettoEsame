<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="dark" (click)="dismiss()"><ion-icon name="arrow-back-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-avatar slot="start" >
      <ion-img [hidden]="!mostraAvatar" src="https://library.kissclipart.com/20180922/eve/kissclipart-icon-full-name-clipart-computer-icons-avatar-icon-f6cf26ff2213f36e.jpg"></ion-img>
      <ion-img [hidden]="mostraAvatar" (ionError)="mostraAvatar=true" src="http://localhost:1337/img/{{datoChat.idUtente}}.{{datoChat.foto}}"></ion-img>
    </ion-avatar>
    <ion-title>{{datoChat.username}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content style="position: relative;">
  <div  style="height: 100%" >
  <div style="height: 85%; display: block;" >
  <app-message  *ngFor="let item of messages" [messaggio]="item" [idChat]="this.datoChat.idUtente"></app-message>
    <div style="height: 17%"></div>
  </div>

  <!-- <div style="position: fixed; bottom:1px; width: 100%; height: 8%;">
    <div style="width: 80%; height: 100%; padding: 1%;">
        <ion-textarea style="border-radius: 10px; border: solid 1px black;" placeholder="Enter more information here..."></ion-textarea>
    </div>
  </div> -->

  <div style="position: fixed;height: 15%;background-color: white;width: 100%;padding-top:2%;border-top: 1px solid black;">
    <ion-item>
      <ion-textarea placeholder="Scrivi un messaggio..." style="width: 80%" [(ngModel)]="testoMessaggio" >
      </ion-textarea>
      <ion-button style="margin: auto" color="light" slot="end" size="small" (click)="invia()"><ion-icon name="send-outline"></ion-icon></ion-button>
    </ion-item>
  </div>
  </div>
</ion-content>
